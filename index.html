<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Swagger Docs</title>
  <link rel="stylesheet" href="https://unpkg.com/swagger-ui-dist/swagger-ui.css" />
</head>
<body>
  <div id="swagger-ui"></div>
  <script src="https://unpkg.com/swagger-ui-dist/swagger-ui-bundle.js"></script>
  <script src="https://unpkg.com/swagger-ui-dist/swagger-ui-standalone-preset.js"></script>
  <script>
    // Embed the swagger JSON directly
    const swaggerSpec = {
  "openapi": "3.0.0",
  "info": {
    "title": "Gulit API",
    "version": "1.0.0",
    "description": "API documentation for the Gulit project"
  },
  "servers": [
    {
      "url": "http://localhost:3000/api/v1",
      "description": "Gulit API Server"
    }
  ],
  "components": {
    "schemas": {
      "User": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "example": "123e4567-e89b-12d3-a456-426614174000"
          },
          "first_name": {
            "type": "string",
            "example": "Alice"
          },
          "last_name": {
            "type": "string",
            "example": "Smith"
          },
          "email": {
            "type": "string",
            "format": "email",
            "example": "alice@example.com"
          },
          "phone_number": {
            "type": "string",
            "example": "+1234567890"
          },
          "avatar_url": {
            "type": "string",
            "format": "uri",
            "example": "https://example.com/avatar.jpg"
          },
          "bio": {
            "type": "string",
            "example": "Loves hiking and cooking."
          },
          "role": {
            "type": "string",
            "example": "buyer"
          },
          "is_active": {
            "type": "boolean",
            "example": true
          },
          "email_verified": {
            "type": "boolean",
            "example": true
          },
          "phone_verified": {
            "type": "boolean",
            "example": true
          },
          "business_license_id": {
            "type": "string",
            "example": "BL-12345"
          },
          "contact_email": {
            "type": "string",
            "format": "email",
            "example": "alice@example.com"
          },
          "contact_telegram": {
            "type": "string",
            "example": "@alice"
          },
          "contact_whatsapp": {
            "type": "string",
            "example": "+1234567890"
          },
          "contact_facebook": {
            "type": "string",
            "example": "alice.fb"
          },
          "contact_instagram": {
            "type": "string",
            "example": "alice_insta"
          },
          "contact_website": {
            "type": "string",
            "format": "uri",
            "example": "https://alice.com"
          },
          "contact_address": {
            "type": "string",
            "example": "123 Forest Lane"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "example": "2023-07-14T15:20:00Z"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "example": "2023-07-15T10:10:00Z"
          }
        }
      },
      "Product": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "short_description": {
            "type": "string"
          },
          "slug": {
            "type": "string"
          },
          "price": {
            "type": "number",
            "format": "float"
          },
          "discount_price": {
            "type": "number",
            "format": "float"
          },
          "stock_quantity": {
            "type": "integer"
          },
          "is_active": {
            "type": "boolean"
          },
          "seller_id": {
            "type": "string"
          },
          "category_id": {
            "type": "integer"
          },
          "status": {
            "type": "[PENDING, APPROVED, REJECTED]",
            "enum": [
              "PENDING",
              "APPROVED",
              "REJECTED"
            ]
          },
          "brand_id": {
            "type": "integer"
          },
          "location_id": {
            "type": "integer"
          },
          "attributes": {
            "type": "object",
            "description": "Flexible object for product-specific attributes (e.g., color, size, brand, etc.). The structure depends on the product type.",
            "example": {
              "color": "red",
              "size": "L",
              "brand": "Apple",
              "model": "iPhone 15"
            }
          },
          "created_at": {
            "type": "string",
            "format": "date-time"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "Location": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "example": 1
          },
          "region": {
            "type": "string",
            "example": "Addis Ababa"
          },
          "city": {
            "type": "string",
            "example": "Bole"
          },
          "sub_city": {
            "type": "string",
            "nullable": true,
            "example": "Woreda 3"
          },
          "products": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Product"
            }
          }
        }
      },
      "UserRating": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "example": "123e4567-e89b-12d3-a456-426614174001"
          },
          "userId": {
            "type": "string",
            "format": "uuid",
            "example": "123e4567-e89b-12d3-a456-426614174002"
          },
          "raterId": {
            "type": "string",
            "format": "uuid",
            "example": "123e4567-e89b-12d3-a456-426614174003"
          },
          "rating": {
            "type": "integer",
            "example": 5
          },
          "comment": {
            "type": "string",
            "example": "Very professional and fast communication."
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "example": "2025-08-06T14:00:00Z"
          },
          "user": {
            "$ref": "#/components/schemas/User"
          },
          "rater": {
            "$ref": "#/components/schemas/User"
          }
        }
      },
      "Rating": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "example": "123e4567-e89b-12d3-a456-426614174010"
          },
          "product_id": {
            "type": "string",
            "format": "uuid",
            "example": "123e4567-e89b-12d3-a456-426614174020"
          },
          "user_id": {
            "type": "string",
            "format": "uuid",
            "example": "123e4567-e89b-12d3-a456-426614174030"
          },
          "title": {
            "type": "string",
            "example": "Amazing product"
          },
          "review": {
            "type": "string",
            "example": "Really high quality and arrived quickly."
          },
          "rating": {
            "type": "integer",
            "format": "int32",
            "example": 4
          },
          "images": {
            "type": "array",
            "items": {
              "type": "string",
              "format": "uri"
            },
            "example": [
              "https://example.com/reviews/img1.jpg",
              "https://example.com/reviews/img2.jpg"
            ]
          },
          "status": {
            "type": "string",
            "example": "active"
          },
          "reportCount": {
            "type": "integer",
            "example": 0
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "example": "2025-08-06T14:00:00Z"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "example": "2025-08-06T15:00:00Z"
          },
          "product": {
            "$ref": "#/components/schemas/Product"
          },
          "user": {
            "$ref": "#/components/schemas/User"
          }
        }
      },
      "Category": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64",
            "example": 101
          },
          "name": {
            "type": "string",
            "example": "Electronics"
          },
          "slug": {
            "type": "string",
            "example": "electronics"
          },
          "parent_id": {
            "type": "integer",
            "format": "int64",
            "nullable": true,
            "example": null
          },
          "is_leaf": {
            "type": "boolean",
            "example": true
          },
          "parent": {
            "$ref": "#/components/schemas/Category",
            "nullable": true
          },
          "children": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Category"
            }
          },
          "products": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Product"
            }
          }
        }
      },
      "Brand": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64",
            "example": 1
          },
          "name": {
            "type": "string",
            "example": "Nike"
          },
          "logo_url": {
            "type": "string",
            "format": "uri",
            "nullable": true,
            "example": "https://res.cloudinary.com/demo/image/upload/v1234567890/brand_logos/nike.png"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "example": "2025-07-26T12:34:56Z"
          },
          "products": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Product"
            }
          }
        },
        "required": [
          "id",
          "name",
          "created_at"
        ]
      },
      "Comment": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "example": "1"
          },
          "user_id": {
            "type": "string",
            "format": "uuid",
            "example": "123e4567-e89b-12d3-a456-426614174000"
          },
          "product_id": {
            "type": "string",
            "format": "uuid",
            "example": "987e6543-e21b-12d3-a456-426614174000"
          },
          "parent_id": {
            "type": "string",
            "nullable": true,
            "example": null
          },
          "content": {
            "type": "string",
            "example": "This is a comment."
          },
          "likes_count": {
            "type": "integer",
            "example": 5
          },
          "dislikes_count": {
            "type": "integer",
            "example": 1
          },
          "images": {
            "type": "array",
            "items": {
              "type": "string",
              "format": "uri",
              "example": "https://res.cloudinary.com/demo/image/upload/v1234567890/comments/image1.png"
            }
          },
          "is_visible": {
            "type": "boolean",
            "example": true
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "example": "2025-08-01T12:00:00Z"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "example": "2025-08-01T12:30:00Z"
          },
          "user": {
            "$ref": "#/components/schemas/User"
          },
          "children": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Comment"
            },
            "description": "Replies to this comment"
          }
        },
        "required": [
          "id",
          "user_id",
          "product_id",
          "content",
          "created_at",
          "updated_at"
        ]
      },
      "CommentVote": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "example": "1"
          },
          "comment_id": {
            "type": "string",
            "example": "1"
          },
          "user_id": {
            "type": "string",
            "format": "uuid",
            "example": "123e4567-e89b-12d3-a456-426614174000"
          },
          "vote_type": {
            "type": "string",
            "enum": [
              "like",
              "dislike"
            ],
            "example": "like"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "example": "2025-08-01T12:05:00Z"
          }
        },
        "required": [
          "id",
          "comment_id",
          "user_id",
          "vote_type",
          "created_at"
        ]
      }
    },
    "securitySchemes": {
      "bearerAuth": {
        "type": "http",
        "scheme": "bearer",
        "bearerFormat": "JWT"
      }
    }
  },
  "paths": {
    "/api/v1/admin/users/{id}": {
      "patch": {
        "summary": "Update a user by ID (Admin only)",
        "description": "Partially updates any user's profile by ID. Supports file uploads (e.g., avatar image) using multipart/form-data. Admins can update additional fields such as role and activation status.\n",
        "tags": [
          "Admin"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "description": "The ID of the user to update",
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "first_name": {
                    "type": "string",
                    "example": "Alice"
                  },
                  "last_name": {
                    "type": "string",
                    "example": "Smith"
                  },
                  "avatar": {
                    "type": "string",
                    "format": "binary",
                    "description": "Optional avatar image file upload"
                  },
                  "bio": {
                    "type": "string",
                    "example": "Loves hiking and cooking."
                  },
                  "business_license_id": {
                    "type": "string",
                    "example": "BL-12345"
                  },
                  "contact_email": {
                    "type": "string",
                    "format": "email",
                    "example": "alice@example.com"
                  },
                  "contact_telegram": {
                    "type": "string",
                    "example": "@alice"
                  },
                  "contact_whatsapp": {
                    "type": "string",
                    "example": "+1234567890"
                  },
                  "contact_facebook": {
                    "type": "string",
                    "example": "alice.fb"
                  },
                  "contact_instagram": {
                    "type": "string",
                    "example": "alice_insta"
                  },
                  "contact_website": {
                    "type": "string",
                    "format": "uri",
                    "example": "https://alice.com"
                  },
                  "contact_address": {
                    "type": "string",
                    "example": "123 Forest Lane"
                  },
                  "role": {
                    "type": "string",
                    "example": "admin",
                    "description": "User role (e.g., admin, buyer)"
                  },
                  "is_active": {
                    "type": "boolean",
                    "example": true
                  },
                  "email_verified": {
                    "type": "boolean",
                    "example": true
                  },
                  "phone_verified": {
                    "type": "boolean",
                    "example": false
                  }
                },
                "required": []
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "User updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "example": "success"
                    },
                    "message": {
                      "type": "string",
                      "example": "User updated successfully"
                    },
                    "user": {
                      "$ref": "#/components/schemas/User"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "No valid fields provided for update",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "example": "error"
                    },
                    "message": {
                      "type": "string",
                      "example": "No valid fields provided for update"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized — invalid or missing token"
          },
          "403": {
            "description": "Forbidden — user not authorized to update"
          },
          "404": {
            "description": "User not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      },
      "delete": {
        "summary": "Delete a user by ID (Admin only)",
        "description": "Deletes the user's account and all associated data.",
        "tags": [
          "Admin"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "description": "The ID of the user to delete",
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "User deleted successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "example": "success"
                    },
                    "message": {
                      "type": "string",
                      "example": "User deleted successfully"
                    },
                    "user": {
                      "$ref": "#/components/schemas/User"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized — invalid or missing token"
          },
          "404": {
            "description": "User not found"
          }
        }
      }
    },
    "/api/v1/admin/products/pending": {
      "get": {
        "summary": "Get all pending products",
        "description": "Retrieves a list of products with status \"PENDING\". Admin-only access.\n",
        "tags": [
          "Admin"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "List of pending products",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "example": "success"
                    },
                    "products": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "string",
                            "format": "uuid",
                            "example": "a7069b8d-45d3-4bfc-87de-c344b99f3c5f"
                          },
                          "name": {
                            "type": "string",
                            "example": "Test Product"
                          },
                          "description": {
                            "type": "string",
                            "example": "This is a test product"
                          },
                          "short_description": {
                            "type": "string",
                            "example": "Test product short desc"
                          },
                          "slug": {
                            "type": "string",
                            "example": "test-product-1"
                          },
                          "price": {
                            "type": "string",
                            "example": "100"
                          },
                          "discount_price": {
                            "type": "string",
                            "example": "80"
                          },
                          "stock_quantity": {
                            "type": "integer",
                            "example": 50
                          },
                          "is_active": {
                            "type": "boolean",
                            "example": true
                          },
                          "seller_id": {
                            "type": "string",
                            "format": "uuid",
                            "example": "2865e531-ff39-4958-8ae7-9c8f1adc1514"
                          },
                          "category_id": {
                            "type": "integer",
                            "example": 1
                          },
                          "brand_id": {
                            "type": "string",
                            "nullable": true,
                            "example": null
                          },
                          "location_id": {
                            "type": "integer",
                            "example": 1
                          },
                          "average_rating": {
                            "type": "string",
                            "example": "0"
                          },
                          "num_reviews": {
                            "type": "integer",
                            "example": 0
                          },
                          "created_at": {
                            "type": "string",
                            "format": "date-time",
                            "example": "2025-07-23T09:38:30.371Z"
                          },
                          "updated_at": {
                            "type": "string",
                            "format": "date-time",
                            "example": "2025-07-23T10:11:29.046Z"
                          },
                          "attributes": {
                            "type": "object",
                            "additionalProperties": {
                              "type": "string"
                            },
                            "example": {
                              "color": "red",
                              "size": "L"
                            }
                          },
                          "status": {
                            "type": "string",
                            "example": "PENDING"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized — invalid or missing token"
          },
          "403": {
            "description": "Forbidden — user not authorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/api/v1/admin/products/{id}/status": {
      "patch": {
        "summary": "Update product status",
        "description": "Allows an admin to update the status of a product (e.g., PENDING, APPROVED, REJECTED).\n",
        "tags": [
          "Admin"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "description": "The ID of the product to update",
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "status": {
                    "type": "string",
                    "enum": [
                      "PENDING",
                      "APPROVED",
                      "REJECTED"
                    ],
                    "example": "APPROVED"
                  }
                },
                "required": [
                  "status"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Product status updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "example": "success"
                    },
                    "message": {
                      "type": "string",
                      "example": "Post status updated successfully"
                    },
                    "post": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "string",
                          "format": "uuid",
                          "example": "a7069b8d-45d3-4bfc-87de-c344b99f3c5f"
                        },
                        "name": {
                          "type": "string",
                          "example": "Test Product"
                        },
                        "description": {
                          "type": "string",
                          "example": "This is a test product"
                        },
                        "short_description": {
                          "type": "string",
                          "example": "Test product short desc"
                        },
                        "slug": {
                          "type": "string",
                          "example": "test-product-1"
                        },
                        "price": {
                          "type": "string",
                          "example": "100"
                        },
                        "discount_price": {
                          "type": "string",
                          "example": "80"
                        },
                        "stock_quantity": {
                          "type": "integer",
                          "example": 50
                        },
                        "is_active": {
                          "type": "boolean",
                          "example": true
                        },
                        "seller_id": {
                          "type": "string",
                          "format": "uuid",
                          "example": "2865e531-ff39-4958-8ae7-9c8f1adc1514"
                        },
                        "category_id": {
                          "type": "integer",
                          "example": 1
                        },
                        "brand_id": {
                          "type": "string",
                          "nullable": true,
                          "example": null
                        },
                        "location_id": {
                          "type": "integer",
                          "example": 1
                        },
                        "average_rating": {
                          "type": "string",
                          "example": "0"
                        },
                        "num_reviews": {
                          "type": "integer",
                          "example": 0
                        },
                        "created_at": {
                          "type": "string",
                          "format": "date-time",
                          "example": "2025-07-23T09:38:30.371Z"
                        },
                        "updated_at": {
                          "type": "string",
                          "format": "date-time",
                          "example": "2025-07-23T10:11:29.046Z"
                        },
                        "attributes": {
                          "type": "string",
                          "example": "{\"color\":\"red\",\"size\":\"L\"}"
                        },
                        "status": {
                          "type": "string",
                          "example": "PENDING"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid status value or missing status"
          },
          "401": {
            "description": "Unauthorized — invalid or missing token"
          },
          "403": {
            "description": "Forbidden — user not authorized"
          },
          "404": {
            "description": "Product not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/api/v1/admin/users": {
      "get": {
        "summary": "Get all users (Admin only)",
        "description": "Retrieves a list of all users in the system. Admin-only access.\n",
        "tags": [
          "Admin"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "List of users",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "example": "success"
                    },
                    "users": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/User"
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized — invalid or missing token"
          },
          "403": {
            "description": "Forbidden — user not authorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/api/v1/admin/admins": {
      "get": {
        "summary": "Get all users (Admin only)",
        "description": "Retrieves a list of all admins in the system. Admin-only access.\n",
        "tags": [
          "Admin"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "List of admins",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "example": "success"
                    },
                    "users": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/User"
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized — invalid or missing token"
          },
          "403": {
            "description": "Forbidden — user not authorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/api/v1/admin/products/approve-bulk": {
      "patch": {
        "summary": "Approve multiple pending products",
        "description": "Updates the status of multiple products from `PENDING` to `APPROVED` in bulk.",
        "tags": [
          "Admin"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "productIds"
                ],
                "properties": {
                  "productIds": {
                    "type": "array",
                    "items": {
                      "type": "integer",
                      "example": 101
                    },
                    "description": "List of product IDs to approve."
                  }
                },
                "example": {
                  "productIds": [
                    101,
                    102,
                    103
                  ]
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Products approved successfully.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "example": "success"
                    },
                    "approvedCount": {
                      "type": "integer",
                      "example": 3
                    },
                    "approvedIds": {
                      "type": "array",
                      "items": {
                        "type": "integer"
                      },
                      "example": [
                        101,
                        102,
                        103
                      ]
                    },
                    "message": {
                      "type": "string",
                      "example": "3 product(s) approved successfully."
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid request payload.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "example": "error"
                    },
                    "message": {
                      "type": "string",
                      "example": "Invalid product IDs. Must be a non-empty array of integers."
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "No pending products found for provided IDs.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "example": "error"
                    },
                    "message": {
                      "type": "string",
                      "example": "No pending products found for the provided IDs."
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal server error.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "example": "error"
                    },
                    "message": {
                      "type": "string",
                      "example": "An unexpected error occurred while approving products."
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/admin/products/reject-bulk": {
      "patch": {
        "summary": "reject multiple pending products",
        "description": "Updates the status of multiple products from `PENDING` to `REJECTED` in bulk.",
        "tags": [
          "Admin"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "productIds"
                ],
                "properties": {
                  "productIds": {
                    "type": "array",
                    "items": {
                      "type": "integer",
                      "example": 101
                    },
                    "description": "List of product IDs to reject."
                  }
                },
                "example": {
                  "productIds": [
                    101,
                    102,
                    103
                  ]
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Products rejected successfully.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "example": "success"
                    },
                    "rejectedCount": {
                      "type": "integer",
                      "example": 3
                    },
                    "approvedIds": {
                      "type": "array",
                      "items": {
                        "type": "integer"
                      },
                      "example": [
                        101,
                        102,
                        103
                      ]
                    },
                    "message": {
                      "type": "string",
                      "example": "3 product(s) rejected successfully."
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid request payload.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "example": "error"
                    },
                    "message": {
                      "type": "string",
                      "example": "Invalid product IDs. Must be a non-empty array of integers."
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "No pending products found for provided IDs.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "example": "error"
                    },
                    "message": {
                      "type": "string",
                      "example": "No pending products found for the provided IDs."
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal server error.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "example": "error"
                    },
                    "message": {
                      "type": "string",
                      "example": "An unexpected error occurred while rejecting products."
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/admin/products/search": {
      "get": {
        "summary": "Search products by title",
        "tags": [
          "Admin"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "title",
            "schema": {
              "type": "string"
            },
            "required": true,
            "description": "Title or part of the product name to search for"
          }
        ],
        "responses": {
          "200": {
            "description": "List of products matching the search criteria or a message if none found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "example": "success"
                    },
                    "products": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "string",
                            "format": "uuid",
                            "example": "d11051d2-8b1c-4e87-ada2-a2ee785c3245"
                          },
                          "name": {
                            "type": "string",
                            "example": "Test Product"
                          },
                          "description": {
                            "type": "string",
                            "example": "This is a test product"
                          },
                          "short_description": {
                            "type": "string",
                            "example": "Test product short desc"
                          },
                          "slug": {
                            "type": "string",
                            "example": "finallyy"
                          },
                          "price": {
                            "type": "string",
                            "example": "100"
                          },
                          "discount_price": {
                            "type": "string",
                            "nullable": true,
                            "example": "80"
                          },
                          "stock_quantity": {
                            "type": "integer",
                            "example": 50
                          },
                          "is_active": {
                            "type": "boolean",
                            "example": true
                          },
                          "seller_id": {
                            "type": "string",
                            "format": "uuid",
                            "example": "6688ca0e-df33-43f3-9aba-b4eb8be1e2e9"
                          },
                          "category_id": {
                            "type": "integer",
                            "example": 4
                          },
                          "brand_id": {
                            "type": "integer",
                            "nullable": true,
                            "example": null
                          },
                          "location_id": {
                            "type": "integer",
                            "example": 2
                          },
                          "average_rating": {
                            "type": "string",
                            "example": "4.5"
                          },
                          "num_reviews": {
                            "type": "integer",
                            "example": 6
                          },
                          "created_at": {
                            "type": "string",
                            "format": "date-time",
                            "example": "2025-07-30T14:23:55.718Z"
                          },
                          "updated_at": {
                            "type": "string",
                            "format": "date-time",
                            "example": "2025-08-01T17:59:00.708Z"
                          },
                          "attributes": {
                            "type": "string",
                            "example": "{\"color\":\"red\",\"size\":\"L\"}"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid search query or server error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "example": "error"
                    },
                    "message": {
                      "type": "string",
                      "example": "Invalid search query"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/admin/products/feature-products": {
      "patch": {
        "summary": "feature single or multiple products",
        "description": "Updates the is_featured products of multiple products from `false` to `true` in bulk.",
        "tags": [
          "Admin"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "productIds"
                ],
                "properties": {
                  "productIds": {
                    "type": "array",
                    "items": {
                      "type": "integer",
                      "example": 101
                    },
                    "description": "List of product IDs to feature."
                  }
                },
                "example": {
                  "productIds": [
                    101,
                    102,
                    103
                  ]
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Products featured successfully.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "example": "success"
                    },
                    "rejectedCount": {
                      "type": "integer",
                      "example": 3
                    },
                    "featuredIds": {
                      "type": "array",
                      "items": {
                        "type": "integer"
                      },
                      "example": [
                        101,
                        102,
                        103
                      ]
                    },
                    "message": {
                      "type": "string",
                      "example": "3 product(s) featured successfully."
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid is_featured payload.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "example": "error"
                    },
                    "message": {
                      "type": "string",
                      "example": "Invalid product IDs. Must be a non-empty array of integers."
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "No products found for provided IDs.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "example": "error"
                    },
                    "message": {
                      "type": "string",
                      "example": "No products found for the provided IDs."
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal server error.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "example": "error"
                    },
                    "message": {
                      "type": "string",
                      "example": "An unexpected error occurred while featuring products."
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/admin/products/totalProductCount": {
      "get": {
        "summary": "Get the total number of products",
        "tags": [
          "Admin"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Total count of products",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "example": "success"
                    },
                    "total": {
                      "type": "integer",
                      "example": 150
                    }
                  }
                },
                "example": {
                  "status": "success",
                  "total": 150
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - user not logged in",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "example": "error"
                    },
                    "message": {
                      "type": "string",
                      "example": "Unauthorized"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Server error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "example": "error"
                    },
                    "message": {
                      "type": "string",
                      "example": "Internal server error"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/admin/buyerOverview": {
      "get": {
        "summary": "Get buyer overview statistics",
        "description": "Returns key metrics for buyers including daily visits and the location with the most users.",
        "tags": [
          "Admin"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Buyer overview statistics retrieved successfully.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "example": "success"
                    },
                    "visits": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "data": {
                            "type": "string",
                            "description": "Date of the visits",
                            "example": "2025-08-22"
                          },
                          "totalVisits": {
                            "type": "integer",
                            "description": "Total number of visits on that date",
                            "example": 120
                          },
                          "uniqueVisitors": {
                            "type": "integer",
                            "description": "Total unique users who visited on that date",
                            "example": 80
                          }
                        }
                      }
                    },
                    "location": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer",
                          "example": 3
                        },
                        "region": {
                          "type": "string",
                          "example": "Addis Ababa"
                        },
                        "city": {
                          "type": "string",
                          "example": "Bole"
                        },
                        "sub_city": {
                          "type": "string",
                          "example": "Kebele 05"
                        },
                        "_count": {
                          "type": "object",
                          "properties": {
                            "users": {
                              "type": "integer",
                              "description": "Total number of users in this location",
                              "example": 150
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - user not logged in",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "example": "error"
                    },
                    "message": {
                      "type": "string",
                      "example": "Unauthorized"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "example": "error"
                    },
                    "message": {
                      "type": "string",
                      "example": "An unexpected error occurred while retrieving buyer overview."
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/login": {
      "post": {
        "summary": "Login endpoint",
        "tags": [
          "Authentication"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "email",
                  "password"
                ],
                "properties": {
                  "email": {
                    "type": "string",
                    "example": "jiru@gmail.com"
                  },
                  "password": {
                    "type": "string",
                    "example": "topsecret"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "User logged in successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "example": "success"
                    },
                    "message": {
                      "type": "string",
                      "example": "User logged in successfully"
                    },
                    "user": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "string"
                        },
                        "first_name": {
                          "type": "string"
                        },
                        "last_name": {
                          "type": "string"
                        },
                        "email": {
                          "type": "string"
                        },
                        "phone_number": {
                          "type": "string"
                        },
                        "role": {
                          "type": "string"
                        },
                        "avatar_url": {
                          "type": "string"
                        },
                        "joined_at": {
                          "type": "string",
                          "format": "date-time"
                        }
                      }
                    },
                    "token": {
                      "type": "object",
                      "properties": {
                        "access_token": {
                          "type": "string"
                        },
                        "expires_in": {
                          "type": "integer"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid email or password",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/signup": {
      "post": {
        "summary": "Sign up endpoint",
        "tags": [
          "Authentication"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "first_name",
                  "last_name",
                  "email",
                  "phone_number",
                  "password",
                  "confirm_password"
                ],
                "properties": {
                  "first_name": {
                    "type": "string",
                    "example": "Jiru"
                  },
                  "last_name": {
                    "type": "string",
                    "example": "Gutema"
                  },
                  "email": {
                    "type": "string",
                    "example": "jirudagutema@gmail.com"
                  },
                  "role": {
                    "type": "enum [entrepreneur, enterprise, buyer]",
                    "example": "entrepreneur (default 'buyer')"
                  },
                  "phone_number": {
                    "type": "string",
                    "example": 1234567890
                  },
                  "password": {
                    "type": "string",
                    "example": "StrongPass123!"
                  },
                  "confirm_password": {
                    "type": "string",
                    "example": "StrongPass123!"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Account created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "user": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "string"
                        },
                        "first_name": {
                          "type": "string"
                        },
                        "last_name": {
                          "type": "string"
                        },
                        "email": {
                          "type": "string"
                        },
                        "phone_number": {
                          "type": "string"
                        },
                        "role": {
                          "type": "string"
                        },
                        "joined_at": {
                          "type": "string",
                          "format": "date-time"
                        }
                      }
                    },
                    "token": {
                      "type": "object",
                      "properties": {
                        "access_token": {
                          "type": "string"
                        },
                        "expires_in": {
                          "type": "integer"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Email already registered"
          }
        }
      }
    },
    "/api/v1/auth/refresh": {
      "get": {
        "summary": "Refresh JWT token",
        "tags": [
          "Authentication"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Token refreshed",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "token": {
                      "type": "string",
                      "example": "new.jwt.access.token.here"
                    },
                    "refresh_token": {
                      "type": "string",
                      "example": "new.refresh.token.here"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          }
        }
      }
    },
    "/api/v1/auth/verify-email": {
      "get": {
        "summary": "Verify user email address",
        "description": "Verifies a user's email using the token sent to their email address. The token is included as a query parameter in the URL. Once verified, the user's account will be marked as `email_verified: true`.\n",
        "tags": [
          "Authentication"
        ],
        "parameters": [
          {
            "in": "query",
            "name": "token",
            "required": true,
            "description": "The verification token sent via email.",
            "schema": {
              "type": "string",
              "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Email verified successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "example": "success"
                    },
                    "message": {
                      "type": "string",
                      "example": "Email verified successfully"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid or expired token",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "example": "error"
                    },
                    "message": {
                      "type": "string",
                      "example": "Invalid or expired verification token"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "User not found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "example": "error"
                    },
                    "message": {
                      "type": "string",
                      "example": "User not found"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/api/v1/auth/forgot-password": {
      "post": {
        "summary": "Request password reset",
        "tags": [
          "Authentication"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "email"
                ],
                "properties": {
                  "email": {
                    "type": "string",
                    "format": "email",
                    "example": "user@example.com"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Password reset email sent successfully. them email contains a new token for resetting the password. which later used in the reset-password endpoint.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "example": "success"
                    },
                    "message": {
                      "type": "string",
                      "example": "Password reset email sent successfully"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "User not found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "example": "error"
                    },
                    "message": {
                      "type": "string",
                      "example": "User not found"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/api/v1/auth/reset-password": {
      "post": {
        "summary": "Reset user password",
        "tags": [
          "Authentication"
        ],
        "description": "Resets the user's password using a token sent to their email. The token is included in the request query and new password should be included in the request body.\n",
        "parameters": [
          {
            "in": "query",
            "name": "token",
            "description": "password-change verification token",
            "required": true,
            "schema": {
              "type": "string",
              "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "newPassword"
                ],
                "properties": {
                  "newPassword": {
                    "type": "string",
                    "example": "NewStrongPassword123!"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Password reset successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "example": "success"
                    },
                    "message": {
                      "type": "string",
                      "example": "Password reset successfully"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Token and new password are required"
          },
          "401": {
            "description": "Invalid password reset token"
          },
          "404": {
            "description": "User not found"
          },
          "500": {
            "description": "Failed to reset password"
          }
        }
      }
    },
    "/api/v1/auth/change-email": {
      "patch": {
        "summary": "Request email change",
        "tags": [
          "Authentication"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "newEmail"
                ],
                "properties": {
                  "newEmail": {
                    "type": "string",
                    "format": "email",
                    "example": "newemail@example.com"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Confirmation email sent to new address",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "example": "success"
                    },
                    "message": {
                      "type": "string",
                      "example": "Confirmation email sent to new address"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad request — missing or invalid newEmail, or email already in use"
          },
          "401": {
            "description": "Unauthorized — invalid or missing token"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/api/v1/auth/verify-change-email": {
      "patch": {
        "summary": "Verify and apply email change",
        "tags": [
          "Authentication"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "token",
            "description": "Email-change verification token",
            "required": true,
            "schema": {
              "type": "string",
              "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Email address updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "example": "success"
                    },
                    "message": {
                      "type": "string",
                      "example": "Email address updated successfully"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid or missing token"
          },
          "401": {
            "description": "Unauthorized — invalid or expired token"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/api/v1/auth/change-password": {
      "post": {
        "summary": "Change user password",
        "tags": [
          "Authentication"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "description": "Changes the user's password from the user dashboard. The user must provide their current password and the new password. The request must be authenticated with a valid JWT token.\n",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "currentPassword",
                  "newPassword"
                ],
                "properties": {
                  "currentPassword": {
                    "type": "string",
                    "example": "OldStrongPassword123!"
                  },
                  "newPassword": {
                    "type": "string",
                    "example": "NewStrongPassword123!"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Password changed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "example": "success"
                    },
                    "message": {
                      "type": "string",
                      "example": "Password changed successfully"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/brand": {
      "get": {
        "summary": "Get all brands with their products",
        "tags": [
          "Brand"
        ],
        "responses": {
          "200": {
            "description": "List of all brands",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string"
                    },
                    "brands": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/BrandResponse"
                      }
                    }
                  }
                },
                "example": {
                  "status": "success",
                  "brands": [
                    {
                      "id": 1,
                      "name": "Nike",
                      "logo_url": "https://...",
                      "products": []
                    },
                    {
                      "id": 2,
                      "name": "Adidas",
                      "logo_url": "https://...",
                      "products": []
                    }
                  ]
                }
              }
            }
          }
        }
      },
      "post": {
        "summary": "Create a new brand",
        "tags": [
          "Brand"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "required": [
                  "name",
                  "logo"
                ],
                "properties": {
                  "name": {
                    "type": "string",
                    "description": "Name of the brand"
                  },
                  "logo": {
                    "type": "string",
                    "format": "binary",
                    "description": "Logo image file"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Brand created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string"
                    },
                    "brand": {
                      "$ref": "#/components/schemas/BrandResponse"
                    }
                  }
                },
                "example": {
                  "status": "success",
                  "brand": {
                    "id": 3,
                    "name": "Puma",
                    "logo_url": "https://..."
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad request, e.g., missing logo file or validation error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                },
                "example": {
                  "status": "error",
                  "message": "Logo file is required"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/brand/{id}": {
      "get": {
        "summary": "Retrieve a single brand by ID",
        "tags": [
          "Brand"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Numeric ID of the brand to get"
          }
        ],
        "responses": {
          "200": {
            "description": "Brand details including products",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string"
                    },
                    "brand": {
                      "$ref": "#/components/schemas/BrandResponse"
                    }
                  }
                },
                "example": {
                  "status": "success",
                  "brand": {
                    "id": 1,
                    "name": "Nike",
                    "logo_url": "https://...",
                    "products": []
                  }
                }
              }
            }
          },
          "404": {
            "description": "Brand not found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                },
                "example": {
                  "status": "error",
                  "message": "Brand not found"
                }
              }
            }
          }
        }
      },
      "put": {
        "summary": "Update brand information by ID",
        "tags": [
          "Brand"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Numeric ID of the brand to update"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "logo": {
                    "type": "string",
                    "format": "binary"
                  }
                },
                "required": [
                  "name"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Brand updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string"
                    },
                    "brand": {
                      "$ref": "#/components/schemas/BrandResponse"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "delete": {
        "summary": "Delete brand by ID",
        "tags": [
          "Brand"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Numeric ID of the brand to delete"
          }
        ],
        "responses": {
          "200": {
            "description": "Brand deleted successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                },
                "example": {
                  "status": "success",
                  "message": "Brand deleted"
                }
              }
            }
          },
          "400": {
            "description": "Bad request, brand not found or invalid ID",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                },
                "example": {
                  "status": "error",
                  "message": "Brand not found"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/categories": {
      "post": {
        "summary": "Create a new category",
        "tags": [
          "Category"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CategoryCreateRequest"
              },
              "example": {
                "name": "Electronics",
                "slug": "electronics",
                "parent_id": null,
                "is_leaf": false
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Category created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CategoryResponse"
                },
                "example": {
                  "status": "success",
                  "category": {
                    "id": 1,
                    "name": "Electronics",
                    "slug": "electronics",
                    "parent_id": null,
                    "is_leaf": false,
                    "created_at": "2025-07-22T10:00:00Z",
                    "updated_at": "2025-07-22T10:00:00Z"
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid input",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                },
                "example": {
                  "status": "error",
                  "message": "Name and slug are required"
                }
              }
            }
          }
        }
      },
      "get": {
        "summary": "Retrieve all categories",
        "tags": [
          "Category"
        ],
        "security": [],
        "responses": {
          "200": {
            "description": "A list of categories",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string"
                    },
                    "categories": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/CategoryResponse"
                      }
                    }
                  }
                },
                "example": {
                  "status": "success",
                  "categories": [
                    {
                      "id": 1,
                      "name": "Electronics",
                      "slug": "electronics",
                      "parent_id": null,
                      "is_leaf": false,
                      "created_at": "2025-07-22T10:00:00Z",
                      "updated_at": "2025-07-22T10:00:00Z"
                    },
                    {
                      "id": 2,
                      "name": "Smartphones",
                      "slug": "smartphones",
                      "parent_id": 1,
                      "is_leaf": true,
                      "created_at": "2025-07-22T10:05:00Z",
                      "updated_at": "2025-07-22T10:05:00Z"
                    }
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/categories/{id}": {
      "get": {
        "summary": "Retrieve a single category by ID",
        "tags": [
          "Category"
        ],
        "security": [],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Numeric ID of the category to get"
          }
        ],
        "responses": {
          "200": {
            "description": "Category details",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string"
                    },
                    "category": {
                      "$ref": "#/components/schemas/CategoryResponse"
                    }
                  }
                },
                "example": {
                  "status": "success",
                  "category": {
                    "id": 2,
                    "name": "Smartphones",
                    "slug": "smartphones",
                    "parent_id": 1,
                    "is_leaf": true,
                    "created_at": "2025-07-22T10:05:00Z",
                    "updated_at": "2025-07-22T10:05:00Z"
                  }
                }
              }
            }
          },
          "404": {
            "description": "Category not found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                },
                "example": {
                  "status": "error",
                  "message": "Category not found"
                }
              }
            }
          }
        }
      },
      "put": {
        "summary": "Update an existing category",
        "tags": [
          "Category"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Numeric ID of the category to update"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CategoryCreateRequest"
              },
              "example": {
                "name": "Mobile Phones",
                "slug": "mobile-phones",
                "parent_id": 1,
                "is_leaf": true
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Category updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CategoryResponse"
                },
                "example": {
                  "status": "success",
                  "category": {
                    "id": 2,
                    "name": "Mobile Phones",
                    "slug": "mobile-phones",
                    "parent_id": 1,
                    "is_leaf": true,
                    "created_at": "2025-07-22T10:05:00Z",
                    "updated_at": "2025-07-22T10:10:00Z"
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid input",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                },
                "example": {
                  "status": "error",
                  "message": "Slug must be unique"
                }
              }
            }
          }
        }
      },
      "delete": {
        "summary": "Delete a category",
        "tags": [
          "Category"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Numeric ID of the category to delete"
          }
        ],
        "responses": {
          "200": {
            "description": "Category deleted successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                },
                "example": {
                  "status": "success",
                  "message": "Category deleted"
                }
              }
            }
          },
          "400": {
            "description": "Bad request / cannot delete",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                },
                "example": {
                  "status": "error",
                  "message": "Cannot delete category with children"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/comments": {
      "get": {
        "summary": "Get all comments (optionally by product)",
        "tags": [
          "Comments"
        ],
        "parameters": [
          {
            "in": "query",
            "name": "product_id",
            "schema": {
              "type": "string"
            },
            "description": "Filter comments by product ID"
          }
        ],
        "responses": {
          "200": {
            "description": "List of comments",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "example": "success"
                    },
                    "comments": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/Comment"
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "summary": "Create a new comment",
        "tags": [
          "Comments"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "product_id",
                  "content"
                ],
                "properties": {
                  "product_id": {
                    "type": "string",
                    "example": "123e4567-e89b-12d3-a456-426614174000"
                  },
                  "content": {
                    "type": "string",
                    "example": "This is a comment"
                  },
                  "images": {
                    "type": "array",
                    "items": {
                      "type": "string",
                      "format": "binary"
                    }
                  },
                  "parent_id": {
                    "type": "string",
                    "example": 1
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Comment created",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "example": "success"
                    },
                    "comment": {
                      "$ref": "#/components/schemas/Comment"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Missing required fields"
          },
          "401": {
            "description": "Unauthorized"
          }
        }
      }
    },
    "/api/v1/comments/{id}": {
      "patch": {
        "summary": "Update a comment",
        "tags": [
          "Comments"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Comment ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "content": {
                    "type": "string",
                    "example": "Updated comment"
                  },
                  "is_visible": {
                    "type": "boolean",
                    "example": true
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Comment updated",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "example": "success"
                    },
                    "comment": {
                      "$ref": "#/components/schemas/Comment"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Comment not found"
          }
        }
      },
      "delete": {
        "summary": "Delete a comment",
        "tags": [
          "Comments"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Comment ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Comment deleted",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "example": "success"
                    },
                    "message": {
                      "type": "string",
                      "example": "Comment deleted"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Comment not found"
          }
        }
      }
    },
    "/api/v1/comments/{id}/vote": {
      "post": {
        "summary": "Vote on a comment (like or dislike)",
        "tags": [
          "Comments"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Comment ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "vote_type"
                ],
                "properties": {
                  "vote_type": {
                    "type": "string",
                    "enum": [
                      "like",
                      "dislike"
                    ],
                    "description": "The type of vote"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Vote cast successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "example": "success"
                    },
                    "comment": {
                      "$ref": "#/components/schemas/Comment"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid vote type"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Comment not found"
          }
        }
      }
    },
    "/api/v1/locations": {
      "post": {
        "summary": "Create a new location",
        "tags": [
          "Location"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "description": "Location fields",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LocationCreateRequest"
              },
              "example": {
                "region": "Oromia",
                "city": "Adama",
                "sub_city": "Lume"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Location created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LocationResponse"
                },
                "example": {
                  "status": "success",
                  "location": {
                    "id": 3,
                    "region": "Oromia",
                    "city": "Adama",
                    "sub_city": "Lume",
                    "created_at": "2025-07-22T11:00:00Z",
                    "updated_at": "2025-07-22T11:00:00Z"
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid input",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                },
                "example": {
                  "status": "error",
                  "message": "Region and city are required"
                }
              }
            }
          }
        }
      },
      "get": {
        "summary": "Retrieve all locations",
        "tags": [
          "Location"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "A list of locations",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string"
                    },
                    "locations": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/LocationResponse"
                      }
                    }
                  }
                },
                "example": {
                  "status": "success",
                  "locations": [
                    {
                      "id": 1,
                      "region": "Addis Ababa",
                      "city": "Addis Ababa",
                      "sub_city": "Bole",
                      "created_at": "2025-07-22T10:00:00Z",
                      "updated_at": "2025-07-22T10:00:00Z"
                    },
                    {
                      "id": 2,
                      "region": "Amhara",
                      "city": "Bahir Dar",
                      "sub_city": null,
                      "created_at": "2025-07-22T10:05:00Z",
                      "updated_at": "2025-07-22T10:05:00Z"
                    }
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/locations/{id}": {
      "get": {
        "summary": "Retrieve a single location by ID",
        "tags": [
          "Location"
        ],
        "security": [],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Numeric ID of the location to get"
          }
        ],
        "responses": {
          "200": {
            "description": "Location details",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string"
                    },
                    "location": {
                      "$ref": "#/components/schemas/LocationResponse"
                    }
                  }
                },
                "example": {
                  "status": "success",
                  "location": {
                    "id": 2,
                    "region": "Amhara",
                    "city": "Bahir Dar",
                    "sub_city": null,
                    "created_at": "2025-07-22T10:05:00Z",
                    "updated_at": "2025-07-22T10:05:00Z"
                  }
                }
              }
            }
          },
          "404": {
            "description": "Location not found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                },
                "example": {
                  "status": "error",
                  "message": "Location not found"
                }
              }
            }
          }
        }
      },
      "put": {
        "summary": "Update an existing location",
        "tags": [
          "Location"
        ],
        "security": [],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Numeric ID of the location to update"
          }
        ],
        "requestBody": {
          "description": "Updated location fields",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LocationCreateRequest"
              },
              "example": {
                "region": "Oromia",
                "city": "Adama",
                "sub_city": "Geda"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Location updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LocationResponse"
                },
                "example": {
                  "status": "success",
                  "location": {
                    "id": 3,
                    "region": "Oromia",
                    "city": "Adama",
                    "sub_city": "Geda",
                    "created_at": "2025-07-22T11:00:00Z",
                    "updated_at": "2025-07-22T11:10:00Z"
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid input",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                },
                "example": {
                  "status": "error",
                  "message": "City cannot be empty"
                }
              }
            }
          }
        }
      },
      "delete": {
        "summary": "Delete a location",
        "tags": [
          "Location"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Numeric ID of the location to delete"
          }
        ],
        "responses": {
          "200": {
            "description": "Location deleted successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                },
                "example": {
                  "status": "success",
                  "message": "Location deleted"
                }
              }
            }
          },
          "400": {
            "description": "Bad request / cannot delete",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                },
                "example": {
                  "status": "error",
                  "message": "Cannot delete location in use"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/products": {
      "post": {
        "summary": "Create a new product",
        "tags": [
          "Product"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "description": {
                    "type": "string"
                  },
                  "short_description": {
                    "type": "string"
                  },
                  "price": {
                    "type": "number"
                  },
                  "discount_price": {
                    "type": "number"
                  },
                  "stock_quantity": {
                    "type": "integer"
                  },
                  "is_active": {
                    "type": "boolean"
                  },
                  "category_id": {
                    "type": "integer"
                  },
                  "brand_id": {
                    "type": "integer"
                  },
                  "location_id": {
                    "type": "integer"
                  },
                  "attributes": {
                    "type": "string",
                    "description": "JSON stringified attributes object"
                  },
                  "images": {
                    "type": "array",
                    "items": {
                      "type": "string",
                      "format": "binary"
                    }
                  }
                },
                "required": [
                  "name",
                  "price",
                  "stock_quantity",
                  "category_id",
                  "location_id"
                ]
              },
              "encoding": {
                "attributes": {
                  "contentType": "application/json"
                },
                "images": {
                  "contentType": [
                    "image/jpeg",
                    "image/png"
                  ]
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Product created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProductResponse"
                },
                "example": {
                  "status": "success",
                  "product": {
                    "id": "d9b41397-8d6f-45b1-9a4c-4a9fa8c12d63",
                    "name": "Test Product",
                    "description": "This is a test product",
                    "short_description": "Test product short desc",
                    "slug": "test-product",
                    "price": 100,
                    "discount_price": 80,
                    "stock_quantity": 50,
                    "is_active": true,
                    "seller_id": "ded5913a-3435-448e-9fb2-bb8b00a812dd",
                    "category_id": 1,
                    "location_id": 3,
                    "attributes": {
                      "color": "red",
                      "size": "L"
                    },
                    "created_at": "2025-07-17T08:22:43Z",
                    "updated_at": "2025-07-17T08:22:43Z"
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid input",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                },
                "example": {
                  "status": "error",
                  "message": "Invalid input"
                }
              }
            }
          }
        }
      },
      "get": {
        "summary": "Get all products",
        "tags": [
          "Product"
        ],
        "responses": {
          "200": {
            "description": "A list of products",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string"
                    },
                    "products": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/Product"
                      }
                    }
                  }
                },
                "example": {
                  "status": "success",
                  "page": 1,
                  "limit": 25,
                  "total": 18,
                  "totalPages": 1,
                  "products": [
                    {
                      "id": "d9b41397-8d6f-45b1-9a4c-4a9fa8c12d63",
                      "name": "Test Product",
                      "description": "This is a test product",
                      "short_description": "Test product short desc",
                      "slug": "test-product",
                      "price": 100,
                      "discount_price": 80,
                      "stock_quantity": 50,
                      "is_active": true,
                      "seller_id": "ded5913a-3435-448e-9fb2-bb8b00a812dd",
                      "category_id": 1,
                      "brand_id": 2,
                      "location_id": 3,
                      "attributes": {
                        "color": "red",
                        "size": "L"
                      },
                      "created_at": "2025-07-17T08:22:43Z",
                      "updated_at": "2025-07-17T08:22:43Z"
                    }
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/products/nearme": {
      "get": {
        "summary": "Get products near the logged-in user's location",
        "tags": [
          "Product"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "user_id",
            "schema": {
              "type": "string"
            },
            "required": false,
            "description": "Optional user ID (used if not getting from auth token)"
          }
        ],
        "responses": {
          "200": {
            "description": "List of products near the user's location or an empty array if none found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "example": "success"
                    },
                    "message": {
                      "type": "string",
                      "example": "User has no location set"
                    },
                    "products": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/Product"
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Missing user ID or invalid request",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "example": "error"
                    },
                    "message": {
                      "type": "string",
                      "example": "User ID is required"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "User not found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "example": "error"
                    },
                    "message": {
                      "type": "string",
                      "example": "User not found"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/products/filter": {
      "get": {
        "summary": "Filter products by region or sort by newest",
        "tags": [
          "Product"
        ],
        "parameters": [
          {
            "in": "query",
            "name": "location_id",
            "schema": {
              "type": "integer"
            },
            "description": "Filter products by location (region) ID"
          },
          {
            "in": "query",
            "name": "newest",
            "schema": {
              "type": "boolean"
            },
            "description": "If true, sorts products by newest (created_at DESC)"
          }
        ],
        "responses": {
          "200": {
            "description": "List of filtered or sorted products",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "example": "success"
                    },
                    "products": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/Product"
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad request or database error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "example": "error"
                    },
                    "message": {
                      "type": "string",
                      "example": "Something went wrong"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/products/search": {
      "get": {
        "summary": "Search products by title",
        "tags": [
          "Product"
        ],
        "parameters": [
          {
            "in": "query",
            "name": "title",
            "schema": {
              "type": "string"
            },
            "required": true,
            "description": "Title or part of the product name to search for"
          }
        ],
        "responses": {
          "200": {
            "description": "List of products matching the search criteria or a message if none found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "example": "success"
                    },
                    "products": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "string",
                            "format": "uuid",
                            "example": "d11051d2-8b1c-4e87-ada2-a2ee785c3245"
                          },
                          "name": {
                            "type": "string",
                            "example": "Test Product"
                          },
                          "description": {
                            "type": "string",
                            "example": "This is a test product"
                          },
                          "short_description": {
                            "type": "string",
                            "example": "Test product short desc"
                          },
                          "slug": {
                            "type": "string",
                            "example": "finallyy"
                          },
                          "price": {
                            "type": "string",
                            "example": "100"
                          },
                          "discount_price": {
                            "type": "string",
                            "nullable": true,
                            "example": "80"
                          },
                          "stock_quantity": {
                            "type": "integer",
                            "example": 50
                          },
                          "is_active": {
                            "type": "boolean",
                            "example": true
                          },
                          "seller_id": {
                            "type": "string",
                            "format": "uuid",
                            "example": "6688ca0e-df33-43f3-9aba-b4eb8be1e2e9"
                          },
                          "category_id": {
                            "type": "integer",
                            "example": 4
                          },
                          "brand_id": {
                            "type": "integer",
                            "nullable": true,
                            "example": null
                          },
                          "location_id": {
                            "type": "integer",
                            "example": 2
                          },
                          "average_rating": {
                            "type": "string",
                            "example": "4.5"
                          },
                          "num_reviews": {
                            "type": "integer",
                            "example": 6
                          },
                          "created_at": {
                            "type": "string",
                            "format": "date-time",
                            "example": "2025-07-30T14:23:55.718Z"
                          },
                          "updated_at": {
                            "type": "string",
                            "format": "date-time",
                            "example": "2025-08-01T17:59:00.708Z"
                          },
                          "attributes": {
                            "type": "string",
                            "example": "{\"color\":\"red\",\"size\":\"L\"}"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid search query or server error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "example": "error"
                    },
                    "message": {
                      "type": "string",
                      "example": "Invalid search query"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/products/{id}": {
      "get": {
        "summary": "Get a single product by ID",
        "tags": [
          "Product"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Product found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProductResponse"
                },
                "example": {
                  "status": "success",
                  "product": {
                    "id": "d9b41397-8d6f-45b1-9a4c-4a9fa8c12d63",
                    "name": "Test Product",
                    "description": "This is a test product",
                    "short_description": "Test product short desc",
                    "slug": "test-product",
                    "price": 100,
                    "discount_price": 80,
                    "stock_quantity": 50,
                    "is_active": true,
                    "seller_id": "ded5913a-3435-448e-9fb2-bb8b00a812dd",
                    "category_id": 1,
                    "brand_id": 2,
                    "location_id": 3,
                    "attributes": {
                      "color": "red",
                      "size": "L"
                    },
                    "created_at": "2025-07-17T08:22:43Z",
                    "updated_at": "2025-07-17T08:22:43Z"
                  }
                }
              }
            }
          },
          "404": {
            "description": "Product not found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                },
                "example": {
                  "status": "error",
                  "message": "Product not found"
                }
              }
            }
          }
        }
      },
      "put": {
        "summary": "Update a product by ID",
        "tags": [
          "Product"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "description": {
                    "type": "string"
                  },
                  "short_description": {
                    "type": "string"
                  },
                  "slug": {
                    "type": "string"
                  },
                  "price": {
                    "type": "number"
                  },
                  "discount_price": {
                    "type": "number"
                  },
                  "stock_quantity": {
                    "type": "integer"
                  },
                  "is_active": {
                    "type": "boolean"
                  },
                  "seller_id": {
                    "type": "string"
                  },
                  "category_id": {
                    "type": "integer"
                  },
                  "brand_id": {
                    "type": "integer"
                  },
                  "location_id": {
                    "type": "integer"
                  },
                  "attributes": {
                    "type": "object",
                    "additionalProperties": true
                  },
                  "image": {
                    "type": "string",
                    "format": "binary",
                    "description": "Optional product image"
                  }
                }
              },
              "encoding": {
                "image": {
                  "contentType": "image/png, image/jpeg"
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Product updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProductResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid input",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Product not found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "delete": {
        "summary": "Delete a product by ID",
        "tags": [
          "Product"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Product deleted",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                },
                "example": {
                  "status": "success",
                  "message": "Product deleted"
                }
              }
            }
          },
          "404": {
            "description": "Product not found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                },
                "example": {
                  "status": "error",
                  "message": "Product not found"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/products/my-products": {
      "get": {
        "summary": "Get all products belonging to the logged-in seller",
        "tags": [
          "Product"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "A list of the seller's products",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "example": "success"
                    },
                    "products": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/Product"
                      }
                    }
                  }
                },
                "example": {
                  "status": "success",
                  "products": [
                    {
                      "id": "d9b41397-8d6f-45b1-9a4c-4a9fa8c12d63",
                      "name": "Seller Product 1",
                      "description": "This is a seller's product",
                      "short_description": "Seller product short desc",
                      "slug": "seller-product-1",
                      "price": 120,
                      "discount_price": 100,
                      "stock_quantity": 10,
                      "is_active": true,
                      "seller_id": "ded5913a-3435-448e-9fb2-bb8b00a812dd",
                      "category_id": 1,
                      "brand_id": 2,
                      "location_id": 3,
                      "attributes": {
                        "color": "blue",
                        "size": "M"
                      },
                      "created_at": "2025-07-17T08:22:43Z",
                      "updated_at": "2025-07-17T08:22:43Z"
                    }
                  ]
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - user not logged in",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "example": "error"
                    },
                    "message": {
                      "type": "string",
                      "example": "Unauthorized"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Server error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "example": "error"
                    },
                    "message": {
                      "type": "string",
                      "example": "Internal server error"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/ratings": {
      "post": {
        "summary": "Create a new rating for a product",
        "tags": [
          "Rating"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "required": [
                  "product_id",
                  "rating"
                ],
                "properties": {
                  "product_id": {
                    "type": "string"
                  },
                  "title": {
                    "type": "string",
                    "example": "Great product!"
                  },
                  "review": {
                    "type": "string",
                    "example": "I really liked this product. Highly recommended!"
                  },
                  "rating": {
                    "type": "integer",
                    "minimum": 1,
                    "maximum": 5,
                    "example": 5
                  },
                  "images": {
                    "type": "array",
                    "items": {
                      "type": "string",
                      "format": "binary"
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Rating created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "example": "success"
                    },
                    "rating": {
                      "type": "object",
                      "properties": {
                        "_id": {
                          "type": "string",
                          "example": "64f1a7d9a7c6b2b3c4a8d123"
                        },
                        "product_id": {
                          "type": "string"
                        },
                        "user_id": {
                          "type": "string"
                        },
                        "title": {
                          "type": "string",
                          "example": "Great product!"
                        },
                        "review": {
                          "type": "string",
                          "example": "Works really well!"
                        },
                        "rating": {
                          "type": "integer",
                          "example": 5
                        },
                        "images": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          }
                        },
                        "createdAt": {
                          "type": "string"
                        },
                        "updatedAt": {
                          "type": "string"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "get": {
        "summary": "Get all ratings",
        "tags": [
          "Rating"
        ],
        "responses": {
          "200": {
            "description": "A list of ratings",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "example": "success"
                    },
                    "ratings": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "_id": {
                            "type": "string"
                          },
                          "product_id": {
                            "type": "string"
                          },
                          "user_id": {
                            "type": "string"
                          },
                          "title": {
                            "type": "string"
                          },
                          "review": {
                            "type": "string"
                          },
                          "rating": {
                            "type": "integer"
                          },
                          "images": {
                            "type": "array",
                            "items": {
                              "type": "string"
                            }
                          },
                          "createdAt": {
                            "type": "string"
                          },
                          "updatedAt": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/ratings/{id}": {
      "get": {
        "summary": "Get a single rating by ID",
        "tags": [
          "Rating"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "required": true,
            "description": "Rating ID"
          }
        ],
        "responses": {
          "200": {
            "description": "A single rating",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "example": "success"
                    },
                    "rating": {
                      "type": "object",
                      "properties": {
                        "_id": {
                          "type": "string"
                        },
                        "product_id": {
                          "type": "string"
                        },
                        "user_id": {
                          "type": "string"
                        },
                        "title": {
                          "type": "string"
                        },
                        "review": {
                          "type": "string"
                        },
                        "rating": {
                          "type": "integer"
                        },
                        "images": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          }
                        },
                        "createdAt": {
                          "type": "string"
                        },
                        "updatedAt": {
                          "type": "string"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "patch": {
        "summary": "Update a rating by ID",
        "tags": [
          "Rating"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "The rating ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "title": {
                    "type": "string"
                  },
                  "review": {
                    "type": "string"
                  },
                  "rating": {
                    "type": "integer"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Rating updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "example": "success"
                    },
                    "rating": {
                      "type": "object",
                      "properties": {
                        "_id": {
                          "type": "string"
                        },
                        "title": {
                          "type": "string"
                        },
                        "review": {
                          "type": "string"
                        },
                        "rating": {
                          "type": "integer"
                        },
                        "updatedAt": {
                          "type": "string"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "delete": {
        "summary": "Delete a rating by ID",
        "tags": [
          "Rating"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Rating ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Rating deleted successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "example": "success"
                    },
                    "message": {
                      "type": "string",
                      "example": "Rating deleted successfully"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/ratings/{id}/report": {
      "post": {
        "summary": "Report a rating",
        "tags": [
          "Rating"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Rating ID to report"
          }
        ],
        "responses": {
          "200": {
            "description": "Report submitted successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "example": "success"
                    },
                    "message": {
                      "type": "string",
                      "example": "Rating reported"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/user/me": {
      "patch": {
        "summary": "Update the authenticated user's profile",
        "description": "Partially updates the user's profile. Supports file uploads using multipart/form-data. Fields not included will be left unchanged. You can optionally upload a new avatar image.\n",
        "tags": [
          "User"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "first_name": {
                    "type": "string",
                    "example": "Alice"
                  },
                  "last_name": {
                    "type": "string",
                    "example": "Smith"
                  },
                  "avatar": {
                    "type": "string",
                    "format": "binary"
                  },
                  "business_plan": {
                    "type": "string",
                    "format": "binary"
                  },
                  "bio": {
                    "type": "string",
                    "example": "Loves hiking and cooking."
                  },
                  "business_license_id": {
                    "type": "string",
                    "example": "BL-12345"
                  },
                  "contact_email": {
                    "type": "string",
                    "format": "email",
                    "example": "alice@example.com"
                  },
                  "contact_telegram": {
                    "type": "string",
                    "example": "@alice"
                  },
                  "contact_whatsapp": {
                    "type": "string",
                    "example": "+1234567890"
                  },
                  "contact_facebook": {
                    "type": "string",
                    "example": "alice.fb"
                  },
                  "contact_instagram": {
                    "type": "string",
                    "example": "alice_insta"
                  },
                  "contact_website": {
                    "type": "string",
                    "format": "uri",
                    "example": "https://alice.com"
                  },
                  "contact_address": {
                    "type": "string",
                    "example": "123 Forest Lane"
                  }
                },
                "required": []
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "User profile updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "example": "success"
                    },
                    "message": {
                      "type": "string",
                      "example": "User updated successfully"
                    },
                    "user": {
                      "$ref": "#/components/schemas/User"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "No valid fields provided for update",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "example": "error"
                    },
                    "message": {
                      "type": "string",
                      "example": "No valid fields provided for update"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized — invalid or missing token"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      },
      "delete": {
        "summary": "Delete the authenticated user's account",
        "description": "Deletes the user's account and all associated data.",
        "tags": [
          "User"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "User deleted successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "example": "success"
                    },
                    "message": {
                      "type": "string",
                      "example": "User deleted successfully"
                    },
                    "user": {
                      "$ref": "#/components/schemas/User"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized — invalid or missing token"
          },
          "404": {
            "description": "User not found"
          }
        }
      }
    },
    "/api/v1/user/me": {
      "get": {
        "summary": "Get current logged-in user",
        "tags": [
          "User"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Logged in user info",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "user": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "string"
                        },
                        "first_name": {
                          "type": "string"
                        },
                        "last_name": {
                          "type": "string"
                        },
                        "email": {
                          "type": "string"
                        },
                        "phone_number": {
                          "type": "string"
                        },
                        "bio": {
                          "type": "string"
                        },
                        "business_id": {
                          "type": "string"
                        },
                        "country": {
                          "type": "string"
                        },
                        "avatar": {
                          "type": "string"
                        },
                        "role": {
                          "type": "string"
                        },
                        "is_active": {
                          "type": "boolean"
                        },
                        "email_verified": {
                          "type": "boolean"
                        },
                        "phone_verified": {
                          "type": "boolean"
                        },
                        "created_at": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "updated_at": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "contact": {
                          "type": "object",
                          "properties": {
                            "email": {
                              "type": "string"
                            },
                            "phone_number": {
                              "type": "string"
                            },
                            "telegram": {
                              "type": "string"
                            },
                            "whatsapp_number": {
                              "type": "string"
                            },
                            "facebook": {
                              "type": "string"
                            },
                            "instagram": {
                              "type": "string"
                            },
                            "website": {
                              "type": "string"
                            },
                            "address": {
                              "type": "string"
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Invalid or expired token",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/user/addVisit": {
      "post": {
        "summary": "Record a user visit",
        "description": "Logs a visit whenever a unique user opens the page. This helps track daily visits and unique users for analytics.",
        "tags": [
          "User"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "description": "No body required. User is identified via authentication token.",
          "required": false
        },
        "responses": {
          "201": {
            "description": "Visit recorded successfully.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Visit recorded"
                    },
                    "visit": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "string",
                          "format": "uuid",
                          "example": "d290f1ee-6c54-4b01-90e6-d701748f0851"
                        },
                        "user_id": {
                          "type": "string",
                          "format": "uuid",
                          "example": "f7a1b3c2-8d9e-4e0f-b2a1-123456789abc"
                        },
                        "timestamp": {
                          "type": "string",
                          "format": "date-time",
                          "example": "2025-08-22T12:34:56.789Z"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Missing or invalid user ID.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "userId is required"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Server error.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "Server error"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/userRating": {
      "post": {
        "summary": "Create a new rating for a user",
        "tags": [
          "UserRating"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "userId",
                  "rating"
                ],
                "properties": {
                  "userId": {
                    "type": "string",
                    "description": "ID of the user being rated"
                  },
                  "rating": {
                    "type": "integer",
                    "minimum": 1,
                    "maximum": 5,
                    "example": 4
                  },
                  "comment": {
                    "type": "string",
                    "example": "Great communication and delivery."
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "UserRating created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "example": "success"
                    },
                    "userRating": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "string"
                        },
                        "userId": {
                          "type": "string"
                        },
                        "raterId": {
                          "type": "string"
                        },
                        "rating": {
                          "type": "integer"
                        },
                        "comment": {
                          "type": "string"
                        },
                        "createdAt": {
                          "type": "string"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "get": {
        "summary": "Get all user ratings",
        "tags": [
          "UserRating"
        ],
        "responses": {
          "200": {
            "description": "List of user ratings",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "example": "success"
                    },
                    "userRatings": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "string"
                          },
                          "user": {
                            "type": "object",
                            "description": "The user being rated"
                          },
                          "rater": {
                            "type": "object",
                            "description": "The user who rated"
                          },
                          "rating": {
                            "type": "integer"
                          },
                          "comment": {
                            "type": "string"
                          },
                          "createdAt": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/userRating/{id}": {
      "get": {
        "summary": "Get a single user rating by ID",
        "tags": [
          "UserRating"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "UserRating ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "UserRating object",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "example": "success"
                    },
                    "userRating": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "string"
                        },
                        "user": {
                          "type": "object"
                        },
                        "rater": {
                          "type": "object"
                        },
                        "rating": {
                          "type": "integer"
                        },
                        "comment": {
                          "type": "string"
                        },
                        "createdAt": {
                          "type": "string"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "put": {
        "summary": "Update a user rating by ID",
        "tags": [
          "UserRating"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "UserRating ID to update",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "description": "Fields to update",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "rating": {
                    "type": "integer",
                    "minimum": 1,
                    "maximum": 5
                  },
                  "comment": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "UserRating updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "example": "success"
                    },
                    "userRating": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "string"
                        },
                        "rating": {
                          "type": "integer"
                        },
                        "comment": {
                          "type": "string"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "delete": {
        "summary": "Delete a user rating by ID",
        "tags": [
          "UserRating"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "UserRating ID to delete",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "UserRating deleted successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "example": "success"
                    },
                    "message": {
                      "type": "string",
                      "example": "UserRating deleted"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/userRating/myRating": {
      "get": {
        "summary": "Get the authenticated user's ratings",
        "description": "Retrieves all ratings given to the currently authenticated user.",
        "tags": [
          "UserRating"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Ratings retrieved successfully or no ratings found.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "example": "success"
                    },
                    "ratings": {
                      "oneOf": [
                        {
                          "type": "string",
                          "example": "No Ratings Found"
                        },
                        {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "string",
                                "format": "uuid",
                                "example": "a1b2c3d4-5678-90ab-cdef-1234567890ab"
                              },
                              "userId": {
                                "type": "string",
                                "format": "uuid",
                                "example": "f7a1b3c2-8d9e-4e0f-b2a1-123456789abc"
                              },
                              "raterId": {
                                "type": "string",
                                "format": "uuid",
                                "example": "f7a1b3c2-8d9e-4e0f-b2a1-123456789abc"
                              },
                              "rating": {
                                "type": "number",
                                "format": "float",
                                "example": 4.5
                              },
                              "comment": {
                                "type": "string",
                                "example": "Great seller, fast shipping!"
                              },
                              "createdAt": {
                                "type": "string",
                                "format": "date-time",
                                "example": "2025-08-22T12:34:56.789Z"
                              }
                            }
                          }
                        }
                      ]
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - user not logged in.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "example": "error"
                    },
                    "message": {
                      "type": "string",
                      "example": "Unauthorized"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal server error.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "example": "error"
                    },
                    "message": {
                      "type": "string",
                      "example": "An unexpected error occurred while fetching ratings."
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  },
  "tags": []
};
    window.onload = () => {
      SwaggerUIBundle({
        spec: swaggerSpec,
        dom_id: "#swagger-ui",
        presets: [SwaggerUIBundle.presets.apis, SwaggerUIStandalonePreset],
        layout: "StandaloneLayout"
      });
    };
  </script>
</body>
</html>